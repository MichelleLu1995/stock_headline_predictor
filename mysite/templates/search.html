<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="../static/css/styles.css">
  <script src="../static/js/search.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src='../static/Chart.bundle.min.js'></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
	<style>
	* {
	    box-sizing: border-box;
	}

	.row {
	    display: flex;
	    /*background-color:#75b5e1;*/
	}
	.column {
	    flex: 50%;
	    padding: 10px;
	    text-align: center;
	}
	</style>
</head>

<body>
	<a class="button" id="back" href="{{ url_for('main') }}">Back</a>
    <div>
      <h1> {{ company }} </h1>
      <p style="text-align: center; font-weight: bold; font-size: 1.5em; color:#82CAFA;">Suggestion: {{ suggestion }} !! </p>
      <div class="row">
		  <div class="column">
		    <h2>Today's Closing Price</h2>
		    <h2>{{ actual }}</h2>
		  </div>
		  <div class="column">
		    <h2>Tomorrow's Predicted Closing Price</h2>
		    <h2>{{ predict }}</h2>
		  </div>
	</div>
	<p style="text-align: center; font-weight: bold; font-size: 1.5em; padding-top: 20px">Cross Validation</p>
	<div class="row">
		  <div class="column">
		    <h2>Without Sentiment</h2>
		    <canvas class="center" id="ns_bar" width="500" height="300"></canvas>
		  </div>
		  <div class="column">
		    <h2>With Sentiment</h2>
		    <canvas class="center" id="s_bar" width="500" height="300"></canvas>
		  </div>
	</div>
	<p style="text-align: center; font-weight: bold; font-size: 1.5em; padding-top: 20px">Model Regressions</p>
	<div class="row">
		  <div class="column">
		    <h2>Without Sentiment</h2>
		    <canvas class="center" id="ns_reg" width="500" height="300"></canvas>
		  </div>
		  <div class="column">
		    <h2>With Sentiment</h2>
		    <canvas class="center" id="s_reg" width="500" height="300"></canvas>
		  </div>
	</div>
<script>
	Chart.defaults.global.responsive = false;
 
	// define the chart data
	var chartData = {
	  labels : [
          {% for item in labels %}
           "{{ item }}",
          {% endfor %}
		],
        datasets : [{
        	label: '{{ legend }}',
      		fill: false,
      		borderColor: '#82CAFA',
          	data : [
	            {% for item in values %}
	               "{{ item }}",
	             {% endfor %}
	    	]
          }
        ]
	}

	var barData = {
	  labels : [
          {% for item in labels_bar %}
           "{{ item }}",
          {% endfor %}
		],
        datasets : [{
        	label: '{{ legend }}',
      		fill: false,
      		backgroundColor: '#75b5e1',
          	data : [
	            {% for item in values_bar %}
	               "{{ item }}",
	             {% endfor %}
	    	]
          }
        ]
	}
	 
	var ctx = document.getElementById("s_reg").getContext("2d");
	var s_reg = new Chart(ctx, {
		type: 'line',
		data: chartData,
	});
	ctx = document.getElementById("ns_reg").getContext("2d");
	var ns_reg = new Chart(ctx, {
	  type: 'line',
	  data: chartData,
	});
	ctx = document.getElementById("s_bar").getContext("2d");
	var s_bar = new Chart(ctx, {
		type: 'bar',
		data: barData,
	});
	ctx = document.getElementById("ns_bar").getContext("2d");
	var ns_bar = new Chart(ctx, {
	  type: 'bar',
	  data: barData,
	});
</script>
</body>
</html>